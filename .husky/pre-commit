branch=$(git rev-parse --abbrev-ref HEAD); \
if [[ "$branch" =~ ^(main|develop)$ ]]; then \
  echo "Direct commits to $branch are not allowed. Please create a feature or bugfix branch."; \
  exit 1; \
fi

cd backend
pnpm type-check
pnpm lint
cd ../frontend
pnpm type-check
pnpm lint
